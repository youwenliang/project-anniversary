{"ast":null,"code":"import _classCallCheck from \"/Users/mliang/Websites/project-anniversary/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mliang/Websites/project-anniversary/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mliang/Websites/project-anniversary/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mliang/Websites/project-anniversary/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mliang/Websites/project-anniversary/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mliang/Websites/project-anniversary/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from './logo.png';\nimport './App.css';\nimport $ from 'jquery';\nimport Modal from 'react-responsive-modal';\nimport loadImage from 'image-promise';\n\nfunction importAll(r) {\n  return r.keys().map(r);\n}\n\nvar images = importAll(require.context('./images', false, /\\.(png|jpe?g|svg)$/));\nvar imagesAmount = images.length;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      $('.container').height($('.container').width());\n      $('.text').height($('.text').width());\n      $(window).resize(function () {\n        $('.container').height($('.container').width());\n        $('.text').height($('.text').width());\n      });\n      var updateImages = [];\n\n      for (var i = 0; i < images.length; i++) {\n        updateImages[i] = images[i].replace('/static/media', '/images');\n        var number = updateImages[i].split('.')[2];\n        updateImages[i] = updateImages[i].replace(number + '.', '');\n      }\n\n      console.log(updateImages);\n      loadImage(updateImages).then(function (allImgs) {\n        console.log(allImgs.length, 'images loaded!', allImgs);\n        setTimeout(function () {\n          $('.loading').addClass('hide');\n          $('.center').click(function (e) {\n            e.stopPropagation();\n            $('.container').addClass('rotate');\n            $('.text').addClass('rotate');\n          });\n          $('#root').click(function (e) {\n            $('.container').removeClass('rotate');\n            $('.text').removeClass('rotate');\n          });\n        }, 800);\n      }).catch(function (err) {\n        console.error('One or more images have failed to load :(');\n        console.error(err.errored);\n        console.info('But these loaded fine:');\n        console.info(err.loaded);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var center = {\n        backgroundImage: \"url(\" + logo + \")\",\n        backgroundPosition: \"center center\",\n        backgroundSize: \"100%\",\n        backgroundRepeat: \"no-repeat\",\n        width: \"100%\",\n        height: \"100%\"\n      };\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"To Nita: \\u7D50\\u5A5A\\u4E00\\u9031\\u5E74\\u5FEB\\u6A02\\uFF01\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u65B0\\u5A5A\\u751F\\u6D3B\\u7684\\u7B2C\\u4E00\\u5E74\\u8F49\\u773C\\u5C31\\u904E\\u4E86\\uFF0C\\u4E5F\\u4EE3\\u8868\\u6211\\u5011\\u5F9E\\u8A8D\\u8B58\\u5230\\u73FE\\u5728\\u5DF2\\u7D93\\u5FEB\\u4E5D\\u5E74\\u4E86\\uFF01\\u73FE\\u5728\\u5DF2\\u7D93\\u7FD2\\u6163\\u4E00\\u76F4\\u6709\\u5F7C\\u6B64\\u5728\\u8EAB\\u908A\\uFF0C\\u5BE6\\u5728\\u5F88\\u96E3\\u60F3\\u50CF\\u7576\\u521D\\u66FE\\u7D93\\u9019\\u9EBC\\u9577\\u6642\\u9593\\u7684\\u9060\\u8DDD\\u96E2\\uFF0E\\u9019\\u4E00\\u5E74\\u4E00\\u8D77\\u751F\\u6D3B\\u7684\\u65E5\\u5B50\\u8B93\\u6211\\u5011\\u8B8A\\u7684\\u66F4\\u6709\\u9ED8\\u5951\\uFF0C\\u5E38\\u5E38\\u53EF\\u4EE5\\u99AC\\u4E0A\\u77E5\\u9053\\u4F60\\u8166\\u4E2D\\u6D6E\\u51FA\\u7684\\u60F3\\u6CD5\\uFF0C\\u8B93\\u6211\\u90FD\\u61F7\\u7591\\u81EA\\u5DF1\\u662F\\u4E0D\\u662F\\u6703\\u8B80\\u5FC3\\u8853\\u4E86\\uFF0E\\u53EA\\u80FD\\u8AAA\\u6211\\u5011\\u662F\\u8D8A\\u4F86\\u8D8A\\u61C2\\u5F7C\\u6B64\\uFF0C\\u4E5F\\u8D8A\\u4F86\\u8D8A\\u80FD\\u5305\\u5BB9\\u5404\\u81EA\\u7684\\u512A\\u7F3A\\u9EDE\\uFF0E\\u5F88\\u611F\\u8B1D\\u59B3\\u5E38\\u5E38\\u5047\\u65E5\\u716E\\u98EF\\u7D66\\u6211\\u5403\\uFF0C\\u8B93\\u6211\\u5011\\u4E0D\\u7528\\u7169\\u60F1\\u8981\\u5403\\u4EC0\\u9EBC\\uFF1B\"), React.createElement(\"p\", {\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"(\\u9EDE\\u64CA\\u4EFB\\u4F55\\u8655\\u56DE\\u5230\\u700F\\u89BD\\u7167\\u7247)\")), React.createElement(\"div\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        width: \"80%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"saving\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"loading photos\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \".\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \".\"))), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Photo, {\n        id: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Photo, {\n        id: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(Photo, {\n        id: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Photo, {\n        id: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"overflow-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item center\",\n        style: center,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(Photo, {\n        id: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(Photo, {\n        id: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Photo, {\n        id: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(Photo, {\n        id: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar Photo =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Photo, _Component2);\n\n  function Photo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Photo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Photo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      img: \"\",\n      description: \"\"\n    };\n\n    _this.onOpenModal = function (a) {\n      var d = a.split('mark')[1].split('-')[1].replace('.jpg', '').replace('_', ' ');\n\n      _this.setState({\n        open: true,\n        img: a,\n        description: d\n      });\n    };\n\n    _this.onCloseModal = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Photo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var $this = this;\n      setInterval(function () {\n        if (!$this.state.open) {\n          $('.item#' + $this.props.id).toggleClass('rotate');\n          setTimeout(function () {\n            $this.forceUpdate();\n          }, 300);\n        }\n      }, Math.floor(Math.random() * 4000 + 4000));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var url = images[Math.floor(Math.random() * imagesAmount)].replace('/static/media', '/images');\n      var number = url.split('.')[2];\n      url = url.replace(number + '.', '');\n      var img = {\n        backgroundImage: \"url(\" + url + \")\",\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundPosition: \"center center\",\n        imageOrientation: \"0deg\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        height: \"100%\"\n      };\n      var open = this.state.open;\n      return React.createElement(\"div\", {\n        className: \"overflow-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        id: this.props.id,\n        style: img,\n        onClick: function onClick() {\n          return _this2.onOpenModal(url);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        open: open,\n        onClose: this.onCloseModal,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"modalImg\",\n        src: this.state.img,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"modalDescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.state.description)));\n    }\n  }]);\n\n  return Photo;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/mliang/Websites/project-anniversary/src/App.js"],"names":["React","Component","logo","$","Modal","loadImage","importAll","r","keys","map","images","require","context","imagesAmount","length","App","height","width","window","resize","updateImages","i","replace","number","split","console","log","then","allImgs","setTimeout","addClass","click","e","stopPropagation","removeClass","catch","err","error","errored","info","loaded","center","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","Photo","state","open","img","description","onOpenModal","a","d","setState","onCloseModal","$this","setInterval","props","id","toggleClass","forceUpdate","Math","floor","random","url","imageOrientation","cursor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.png';\nimport './App.css';\nimport $ from 'jquery';\nimport Modal from 'react-responsive-modal';\nimport loadImage from 'image-promise';\n\nfunction importAll(r) {\n  return r.keys().map(r);\n}\nconst images = importAll(require.context('./images', false, /\\.(png|jpe?g|svg)$/));\nconst imagesAmount = images.length;\n\nclass App extends Component {\n  componentDidMount(){\n    $('.container').height($('.container').width());\n    $('.text').height($('.text').width());\n    $(window).resize(function(){\n      $('.container').height($('.container').width());\n      $('.text').height($('.text').width());\n    })\n    var updateImages = [];\n    for(var i = 0; i < images.length; i++){\n      updateImages[i] = images[i].replace('/static/media', '/images');\n      var number = updateImages[i].split('.')[2];\n      updateImages[i] = updateImages[i].replace(number+'.', '');\n    }\n    console.log(updateImages);\n    loadImage(updateImages)\n    .then(function (allImgs) {\n      console.log(allImgs.length, 'images loaded!', allImgs);\n      setTimeout(function(){\n        $('.loading').addClass('hide');\n\n        $('.center').click(function(e){\n          e.stopPropagation();\n          $('.container').addClass('rotate');\n          $('.text').addClass('rotate');\n        })\n        $('#root').click(function(e){\n          $('.container').removeClass('rotate');\n          $('.text').removeClass('rotate');\n        });\n      },800);\n    })\n    .catch(function (err) {\n      console.error('One or more images have failed to load :(');\n      console.error(err.errored);\n      console.info('But these loaded fine:');\n      console.info(err.loaded);\n    });\n  }\n  render() {\n    var center = {\n      backgroundImage: \"url(\"+logo+\")\",\n      backgroundPosition: \"center center\",\n      backgroundSize: \"100%\",\n      backgroundRepeat: \"no-repeat\",\n      width: \"100%\",\n      height: \"100%\"\n    }\n    return (\n      <div className=\"App\">\n        <div className=\"text\">\n          <p>To Nita: 結婚一週年快樂！</p>\n          <p>新婚生活的第一年轉眼就過了，也代表我們從認識到現在已經快九年了！現在已經習慣一直有彼此在身邊，實在很難想像當初曾經這麼長時間的遠距離．這一年一起生活的日子讓我們變的更有默契，常常可以馬上知道你腦中浮出的想法，讓我都懷疑自己是不是會讀心術了．只能說我們是越來越懂彼此，也越來越能包容各自的優缺點．很感謝妳常常假日煮飯給我吃，讓我們不用煩惱要吃什麼；</p>\n          <p className=\"small\">(點擊任何處回到瀏覽照片)</p>\n        </div>\n        <div className=\"loading\">\n          <img src={logo} width=\"80%\"/>\n          <p className=\"saving\">loading photos<span>.</span><span>.</span><span>.</span></p>\n        </div>\n        <div className=\"container\">\n          <Photo id=\"1\"/>\n          <Photo id=\"2\"/>\n          <Photo id=\"3\"/>\n          <Photo id=\"4\"/>\n          <div className=\"overflow-hidden\">\n            <div className=\"item center\" style={center}></div>\n          </div>\n          <Photo id=\"5\"/>\n          <Photo id=\"6\"/>\n          <Photo id=\"7\"/>\n          <Photo id=\"8\"/>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Photo extends Component {\n  state = {\n    open: false,\n    img: \"\",\n    description: \"\"\n  };\n \n  onOpenModal = (a) => {\n    var d = a.split('mark')[1].split('-')[1].replace('.jpg','').replace('_',' ');\n    this.setState({ open: true, img: a, description: d });\n  };\n \n  onCloseModal = () => {\n    this.setState({ open: false });\n  };\n  componentDidMount(){\n    var $this = this;\n    setInterval(function(){\n      if(!$this.state.open) {\n        $('.item#'+$this.props.id).toggleClass('rotate');\n        setTimeout(function(){\n          $this.forceUpdate();\n        }, 300)\n      }\n    }, Math.floor((Math.random() * 4000)+4000))\n  }\n\n  render() {\n    var url = images[Math.floor((Math.random() * imagesAmount))].replace('/static/media', '/images');\n    var number = url.split('.')[2];\n    url = url.replace(number+'.', '');\n    \n    var img = {\n      backgroundImage: \"url(\"+url+\")\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"center center\",\n      imageOrientation: \"0deg\",\n      cursor: \"pointer\",\n      width: \"100%\",\n      height: \"100%\"\n    }\n    const { open } = this.state;\n    return (\n      <div className=\"overflow-hidden\">\n        <div className=\"item\" id={this.props.id} style={img} onClick={()=> this.onOpenModal(url)}></div>\n        <Modal open={open} onClose={this.onCloseModal} center>\n          <img className=\"modalImg\" src={this.state.img}></img>\n          <p className=\"modalDescription\">{this.state.description}</p>\n        </Modal>\n      </div>\n    )\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}